# ==================================================================================
# VAUCDA Docker Compose Environment Template
# ==================================================================================
#
# IMPORTANT: This is a template file for documentation purposes
#
# For production deployment:
# 1. Copy this file to .env: cp .env.example .env
# 2. Generate secure secrets: python scripts/generate_secrets.py > secrets.txt
# 3. Update all CHANGE_THIS values in .env with generated secrets
# 4. Set secure file permissions: chmod 600 .env
# 5. NEVER commit .env to version control
#
# ==================================================================================

# ==================================================================================
# DOCKER COMPOSE SETTINGS
# ==================================================================================

# Project name for Docker Compose (used for container naming)
COMPOSE_PROJECT_NAME=vaucda

# API server port (mapped from container port 8000)
API_PORT=8000

# Frontend server port (mapped from container port 3000)
FRONTEND_PORT=3000

# ==================================================================================
# APPLICATION ENVIRONMENT
# ==================================================================================

# Environment: development, staging, or production
# CRITICAL: Set to 'production' for production deployments
APP_ENV=production

# Debug mode (must be false in production)
DEBUG=false

# Application name
APP_NAME=VAUCDA

# Application version
APP_VERSION=1.0.0

# ==================================================================================
# PROTOCOL CONFIGURATION
# ==================================================================================

# Use HTTPS for both frontend and backend
# Set to 'true' for production (requires SSL certificates in ssl/ directory)
# Set to 'false' for development (uses HTTP only)
USE_HTTPS=false

# Backend server port
BACKEND_PORT=8002

# Frontend server port
FRONTEND_PORT=3005

# ==================================================================================
# SECURITY - SECRET KEYS
# ==================================================================================
#
# CRITICAL SECURITY NOTE:
# These values MUST be unique, random, and kept secret
# Generate new values using: python scripts/generate_secrets.py
#
# Store these securely and never commit to version control
# Minimum length: 32 characters
# ==================================================================================

# JWT Token Secret Key (for authentication tokens)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# CHANGE THIS!
SECRET_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_AT_LEAST_32_CHARACTERS_LONG

# JWT Authentication Secret
# CHANGE THIS!
JWT_SECRET_KEY=CHANGE_THIS_TO_ANOTHER_SECURE_RANDOM_STRING_AT_LEAST_32_CHARACTERS

# ==================================================================================
# DATABASE CONFIGURATION - Neo4j (Graph Database)
# ==================================================================================

# Neo4j container username
NEO4J_USER=neo4j

# Neo4j container password
# CRITICAL: Change this to a strong password
# CHANGE THIS!
NEO4J_PASSWORD=CHANGE_THIS_TO_A_SECURE_PASSWORD

# ==================================================================================
# DATABASE CONFIGURATION - Redis (Cache & Message Broker)
# ==================================================================================

# Redis container password
# CRITICAL: Change this to a strong password
# CHANGE THIS!
REDIS_PASSWORD=CHANGE_THIS_TO_A_SECURE_PASSWORD

# ==================================================================================
# OLLAMA CONFIGURATION (Local LLM Server)
# ==================================================================================

# Docker runtime for Ollama
# Options:
#   - 'nvidia' for GPU support (requires NVIDIA Docker runtime)
#   - 'runc' for CPU-only execution
# Default: nvidia (will fall back to runc if GPU not available)
OLLAMA_RUNTIME=nvidia

# Number of parallel requests Ollama can handle
OLLAMA_NUM_PARALLEL=4

# GPU visibility for NVIDIA containers
# Options: all, 0, 1, or specific GPU IDs
# Set to 'all' to use all available GPUs
NVIDIA_VISIBLE_DEVICES=all

# Models to pull during Ollama startup

# Large model for note generation (70B parameter model)
# Note: Requires significant VRAM (24GB+ recommended)
OLLAMA_NOTE_GENERATION_MODEL=llama3.1:70b

# Medium model for clinical information extraction
OLLAMA_CLINICAL_EXTRACTION_MODEL=llama3.1:8b

# Small model for calculator assistance
OLLAMA_CALCULATOR_ASSIST_MODEL=phi3:medium

# ==================================================================================
# LLM PROVIDERS - OPTIONAL CLOUD-BASED PROVIDERS
# ==================================================================================

# Anthropic Claude API Configuration (Optional)
# Enable this if you want to use Claude as a backup/primary provider
ANTHROPIC_ENABLED=false

# Your Anthropic API Key
# Get from: https://console.anthropic.com/
# Format: sk-ant-xxxxxxxxxxxxx
ANTHROPIC_API_KEY=

# Default Claude model version
ANTHROPIC_DEFAULT_MODEL=claude-3-5-sonnet-20250101

# OpenAI GPT Configuration (Optional)
# Enable this if you want to use GPT-4 as a backup/primary provider
OPENAI_ENABLED=false

# Your OpenAI API Key
# Get from: https://platform.openai.com/api-keys
# Format: sk-xxxxxxxxxxxxx
OPENAI_API_KEY=

# Default OpenAI model version
OPENAI_DEFAULT_MODEL=gpt-4o

# ==================================================================================
# CELERY CONFIGURATION
# ==================================================================================

# Number of worker processes for background task processing
# Recommendation: (2 * CPU cores) + 1
# For example: 4 cores = 9 workers (but 4-8 is typical for most deployments)
CELERY_WORKER_CONCURRENCY=4

# ==================================================================================
# CORS ORIGINS (Cross-Origin Resource Sharing)
# ==================================================================================

# Allowed origins for API requests
# Format: ["http://localhost:3000","https://vaucda.va.gov"]
# Add all domains that will access the API
CORS_ORIGINS=["http://localhost:3000","https://vaucda.va.gov"]

# ==================================================================================
# EMAIL CONFIGURATION (Optional)
# ==================================================================================

# Enable email notifications (for alerts and admin notifications)
EMAIL_ENABLED=false

# VA SMTP configuration
EMAIL_SMTP_HOST=smtp.va.gov
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=
EMAIL_SMTP_PASSWORD=
EMAIL_FROM_ADDRESS=noreply@vaucda.va.gov
EMAIL_ADMIN_RECIPIENTS=admin@vaucda.va.gov

# ==================================================================================
# BACKUP & MONITORING
# ==================================================================================

# Enable metrics collection (Prometheus)
METRICS_ENABLED=true

# Enable automatic backups
AUTO_BACKUP_ENABLED=true

# Backup interval in hours
BACKUP_INTERVAL_HOURS=24

# Number of backup copies to retain
BACKUP_RETENTION_DAYS=30

# ==================================================================================
# PRODUCTION DEPLOYMENT NOTES
# ==================================================================================
#
# BEFORE DEPLOYING TO PRODUCTION:
#
# 1. Security Review:
#    - All CHANGE_THIS values must be replaced with unique secrets
#    - All passwords must be at least 24 characters
#    - Encrypt .env file at rest
#    - Use proper secret management (e.g., HashiCorp Vault, AWS Secrets Manager)
#
# 2. Database Setup:
#    - Ensure Neo4j and Redis have persistent volumes
#    - Set up automated backups
#    - Configure monitoring and alerting
#
# 3. SSL/TLS:
#    - Use HTTPS in production
#    - Configure valid SSL certificates
#    - Enable HSTS (HTTP Strict Transport Security)
#
# 4. Resource Allocation:
#    - Allocate sufficient CPU/memory for containers
#    - Monitor resource usage
#    - Configure auto-scaling if needed
#
# 5. Logging & Monitoring:
#    - Set up centralized logging
#    - Configure application monitoring
#    - Set up health check alerts
#
# 6. Access Control:
#    - Use strong authentication (MFA if possible)
#    - Implement role-based access control (RBAC)
#    - Audit user access
#
# 7. Network Security:
#    - Use private networks for inter-service communication
#    - Restrict database access to application only
#    - Use VPN for remote access
#
# ==================================================================================
